{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/vaporwave_admin.css' %}">
{% endblock %}

{% block content %}
<!-- Grid retro de fondo -->
<div class="retro-grid"></div>

<!-- Sol vaporwave -->
<div class="vaporwave-sun"></div>

<!-- Scanlines effect -->
<div class="scanlines"></div>

<!-- Decoraciones Dragon Ball -->
<div class="floating-decorations">
    <div class="dragon-ball-deco" data-stars="‚òÖ" style="top: 15%; left: 10%;"></div>
    <div class="dragon-ball-deco" data-stars="‚òÖ‚òÖ" style="top: 25%; right: 15%;"></div>
    <div class="dragon-ball-deco" data-stars="‚òÖ‚òÖ‚òÖ" style="bottom: 20%; left: 20%;"></div>
    <div class="dragon-ball-deco" data-stars="‚òÖ‚òÖ‚òÖ‚òÖ" style="bottom: 30%; right: 25%;"></div>
    <div class="kinton-cloud" style="top: 40%;"></div>
</div>

<!-- Ventana de Login -->
<div class="retro-window">
    <div class="window-titlebar">
        <div class="window-title">
            <span>ÔøΩ</span>
            <span>HOJA DE VIDA MODERNA - LOGIN.EXE</span>
        </div>
        <div class="window-controls">
            <div class="window-btn minimize"></div>
            <div class="window-btn maximize"></div>
            <div class="window-btn close"></div>
        </div>
    </div>
    
    <div class="window-content">
        <div class="login-container">
            <!-- Logo Dragon Ball -->
            <div class="login-logo">
                <div class="dragon-ball"></div>
            </div>
            
            <!-- T√≠tulo -->
            <h1 class="login-title">{% trans 'SISTEMA DE ADMINISTRACI√ìN' %}</h1>
            
            <!-- Mensajes de error -->
            {% if form.errors %}
            <ul class="messagelist">
                <li class="error">
                    {% if form.errors.items|length == 1 %}
                        ‚ö†Ô∏è {% trans "Por favor corrige el error." %}
                    {% else %}
                        ‚ö†Ô∏è {% trans "Por favor corrige los errores." %}
                    {% endif %}
                </li>
            </ul>
            {% endif %}
            
            <!-- Formulario -->
            <form action="{{ app_path }}" method="post" id="login-form">
                {% csrf_token %}
                
                <div class="form-row">
                    <label for="id_username">{{ form.username.label }}:</label>
                    {{ form.username }}
                </div>
                
                <div class="form-row">
                    <label for="id_password">{{ form.password.label }}:</label>
                    {{ form.password }}
                </div>
                
                <input type="hidden" name="next" value="{{ next }}">
                
                <div class="submit-row">
                    <input type="submit" value="üî• {% trans 'KAMEHAMEHA LOGIN' %}">
                </div>
            </form>
        </div>
    </div>
</div>

<script>
// Efecto de glitch en el t√≠tulo
document.addEventListener('DOMContentLoaded', function() {
    const title = document.querySelector('.login-title');
    setInterval(() => {
        title.style.textShadow = `
            ${Math.random() * 5 - 2}px ${Math.random() * 5 - 2}px 0 var(--neon-pink),
            ${Math.random() * 5 - 2}px ${Math.random() * 5 - 2}px 0 var(--cyber-blue)
        `;
    }, 100);
});
</script>
{% endblock %}